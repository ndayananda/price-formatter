export default class{constructor(e){this.pattern=e,this.formatPrice=function(e){const t=function(e){const t=function e(t,r={},n=/(\{([c|n|t|o|d])(.*?)\})/gi,i=n.exec(t)){return i?(r[{c:"symbol",n:"negative",d:"decimal",o:"decimal",t:"group"}[i[2].toLowerCase()]]=i[3],"o"===i[2].toLowerCase()&&(r.isDecimalOptional=!0),e(t,r,n,i=n.exec(t))):r}(e),r=function(e){return e.replace(/(\{c.*?\})/gi,"!").replace(/(\{n.*?\})/gi,"^").replace(/(\{[d|o].*?\})/gi,".").replace(/(\{.*?\})/gi,",")}(e),n=r.trim().match(/[#0,.]+/)[0],i=n.split("."),a=i[1],o=i[0].split(","),c=r.split(n);return Object.assign({},{pattern:r,decimalPlaces:void 0===a?0:a.length,leftSpacing:c[0],rightSpacing:c[1],groupLengths:o.map(e=>e.length)},t)}(e);return e=>function(e,t){const r=function(e,t){return Number(e).toFixed(t)}(Math.abs(e),t.decimalPlaces).split(".");let{formattedNumber:n}=function({groupLengths:e=[],separator:t=",",number:r="0"}){return[...e].reverse().reduce(({num:e,formattedNumber:r},n)=>({num:e.substring(0,e.length-n),formattedNumber:e.substring(e.length-n).length?r.length?`${e.substring(e.length-n)}${t}${r}`:""+e.substring(e.length-n):r}),{num:r,formattedNumber:""})}({groupLengths:t.groupLengths,separator:t.group,number:r[0]});return n=`${t.leftSpacing}${n}${function(e,t,r){return void 0===t||r.isDecimalOptional&&Number.isInteger(e)?"":`${r.decimal}${t}`}(e,r[1],t)}${t.rightSpacing}`,n.replace(/\^/g,e<0?t.negative||"-":"").replace(/!/g,t.symbol).trim().replace(/\s/g,"Â ")}(e,t)}(e)}format(e){if(isNaN(e))throw new TypeError(e+" is NaN");return this.formatPrice(Number(e))}getPattern(){return this.pattern}}
//# sourceMappingURL=price-formatter.module.js.map
